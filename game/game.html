<!DOCTYPE html>
<html>
	<head>
		<title>My Sketch</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.6.0/processing.min.js"></script>
	</head>
	<body>
		<script type="application/processing">
			  float x;
float y;
float speedX;
float speedY;
float pSpeed;
float leftPos;
float diam = 20;
float rectHeight = 50;
float rectWidth = 10;
float multiplier;
int score;

void setup() {
  frameRate(60);
  size(1000, 500);
  reset();
  textSize(25);
  textAlign(CENTER);
  ellipseMode(CENTER);
}

void reset() {
  score = 0;
  speedX = 10;
  speedY = 10;
  pSpeed = 10;
  leftPos = 0;
  multiplier = 4;
  x= random(100); //700
  y= random(100); //300
}

void draw() {   
  x += speedX;
  y += speedY;

  background(0);

  fill(255, 0, 0);

  for (int i = 1; i < 500; i += 25) {
    rect(width/2, i, 5, 15);            //red line down the middle
  }

  fill(0, 255, 255);

  ellipse(x, y, diam, diam);


  //left
 
   rect(30, leftPos += pSpeed , rectWidth, rectHeight*multiplier);
   
   if (leftPos > 500 - rectHeight*multiplier || leftPos < 0) {
     pSpeed = -pSpeed;
   }
   
    if ( x > diam && x < rectWidth*3 && y > leftPos-rectHeight/4*multiplier 
    && y < leftPos+rectHeight*multiplier ) { //ball bounce off paddle on left

    speedX = speedX * -1;
  } 

 

  //right
  if (mouseY>=rectHeight/2 && mouseY<= height-rectHeight/2) {
    rect(width-30, mouseY-rectHeight/2, rectWidth, rectHeight); //has to be outside of the top and bottom to be in boundaries
  }

  if (mouseY<rectHeight/2) {
    rect(width-30, 0, rectWidth, rectHeight); //top rectangle to make sure it doesnt go off
  }                                  //screen

  if (mouseY>height-rectHeight/2) {
    rect(width-30, height-rectHeight, rectWidth, rectHeight); //bottom rectangle with the same role
  }

  if ( x > width-rectWidth*3 && x < width-rectWidth*2 && y > mouseY-rectHeight/2 && y < mouseY+rectHeight/2 ) { //ball bounce off paddle on right

    speedX = speedX * -1;
    score++;
  } 
  
  text(score, 900, height-30);
  text("SCORE: ", 850, height-30);
  fill(0, 255, 0);
  ellipse(750, height-40, 50, 50);
  fill(255, 255, 0);
  ellipse(700, height-40, 50, 50);
  fill(255, 0, 0);
  ellipse(650, height-40, 50, 50);

  if ( y > height || y < 0  ) {
    speedY *= -1;
  }
  

  if (keyPressed || x > width ) {
    reset();
  }
}
		</script>
		<canvas> </canvas>
	</body>
</html>
